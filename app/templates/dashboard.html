<!-- https://codelibrary.opendatasoft.com/page-templates/dashboard/ -->
<html>
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css" />
    <!-- ODS Platform CSS - must be hosted on static : WIP -->
    <link rel="stylesheet" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css" />
    <link rel="stylesheet" href="https://codelibrary.opendatasoft.com/css/theme.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div ng-app="ods-widgets">
      <section>
        <ods-dataset-context context="stats" stats-dataset="resume-statistique-communes-departements-et-regions-france-2012-2013-2014" stats-domain="public">
          <div class="container">
            <div class="header">
              <h1> Observatoire statistiques de la population Française </h1>
              <p> Ensemble de données synthétiques pour les thèmes suivants : population, logement, revenus, emploi-chômage et établissements. </p>
            </div>
            <div class="grid md:grid-3">
              <div class="grid">
                <div class="cell-1 box white flat">
                  <div class="advanced-kpi">
                    <div class="advanced-kpi--top">
                      <h3 class="title"> Population </h3>
                      <p class="description"> en 2012 </p>
                    </div>
                    <div class="advanced-kpi--middle centered">
                      <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="population_en_2012"> 65,241,241 </p>
                    </div>
                    <div class="advanced-kpi--bottom">
                      <div class="advanced-kpi--bottom-second-stage">
                        <span class="date">Mar 22, 2017</span>
                        <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="cell-1 box white flat">
                  <div class="advanced-kpi">
                    <div class="advanced-kpi--top">
                      <h3 class="title"> Nombre de ménages </h3>
                      <p class="description"> en 2012 </p>
                    </div>
                    <div class="advanced-kpi--middle centered">
                      <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="menages_en_2012"> 65,241,241 </p>
                    </div>
                    <div class="advanced-kpi--bottom">
                      <div class="advanced-kpi--bottom-second-stage">
                        <span class="date">Mar 22, 2017</span>
                        <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="md:cell-2 box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Evolution de la population </h3>
                    <p class="description"> France 2007 et 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                      <canvas id="chart1"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="md:cell-2 box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                    <canvas id="chart2"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="grid">
                <div class="cell-1 box white flat">
                  <div class="advanced-kpi">
                    <div class="advanced-kpi--top">
                      <h3 class="title"> Actifs </h3>
                      <p class="description"> 15 - 64 ans en 2012 </p>
                    </div>
                    <div class="advanced-kpi--middle centered">
                      <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="actifs_15_64_ans_en_2012"> 65,241,241 </p>
                    </div>
                    <div class="advanced-kpi--bottom">
                      <div class="advanced-kpi--bottom-second-stage">
                        <span class="date">Mar 22, 2017</span>
                        <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="cell-1 box white flat">
                  <div class="advanced-kpi">
                    <div class="advanced-kpi--top">
                      <h3 class="title"> Chomeurs </h3>
                      <p class="description"> 15 - 64 ans en 2012 </p>
                    </div>
                    <div class="advanced-kpi--middle centered">
                      <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="chomeurs_15_64_ans_en_2012"> 65,241,241 </p>
                    </div>
                    <div class="advanced-kpi--bottom">
                      <div class="advanced-kpi--bottom-second-stage">
                        <span class="date">Mar 22, 2017</span>
                        <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="mb-2"> Logements </h2>
            <div class="grid md:grid-3">
              <div class="box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Nombre de logements </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered">
                    <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="logements_en_2012"> 65,241,241 </p>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Résidences principales </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered">
                    <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="residences_principales_en_2012"> 65,241,241 </p>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Résidences secondaires et logts occasionnels </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered">
                    <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="res_secondaires_et_logts_occasionnels_en_2012"> 65,241,241 </p>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <h2 class="mb-2"> Ménages fiscaux </h2>
            <div class="grid md:grid-3">
              <div class="box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Nombre de ménages fiscaux </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered">
                    <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="nombre_de_menages_fiscaux_en_2012"> 65,241,241 </p>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Part des ménages fiscaux imposés </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered">
                    <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="SUM" ods-aggregation-expression="part_des_menages_fiscaux_imposes_en_2012"> 65,241,241 </p>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="box white flat">
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Mediane du revenu disponible par US </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered">
                    <p class="value" ods-aggregation="agg" ods-aggregation-context="stats" ods-aggregation-function="AVG" ods-aggregation-expression="mediane_du_revenu_disponible_par_uc_en_2012"> 65,241,241 </p>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="bdd=1">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ods-dataset-context>
      </section>
    </div>
    <div id="open-modal" class="modal-window">
        <div class="modal-backdrop"></div>
        <div class="modal">
            <span class="modal-close">✖</span>
            <iframe id="modal-iframe"></iframe>
        </div>
    </div>
    <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
  </body>
</html>