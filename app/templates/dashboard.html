<!-- https://codelibrary.opendatasoft.com/page-templates/dashboard/ -->
<html>
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://static.opendatasoft.com/ods-widgets/latest-v2/ods-widgets.css" />
    <!-- ODS Platform CSS - must be hosted on static : WIP -->
    <link rel="stylesheet" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/4124551/ods.css" />
    <link rel="stylesheet" href="https://codelibrary.opendatasoft.com/css/theme.css" />
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-geo"></script>
  </head>
  <body>
    <div ng-app="ods-widgets">
      <section>
        <ods-dataset-context context="stats" stats-dataset="resume-statistique-communes-departements-et-regions-france-2012-2013-2014" stats-domain="public">
          <div class="container">
            <div class="header">
              <h1> Observatoire statistiques de la population Française </h1>
              <p> Ensemble de données synthétiques pour les thèmes suivants : population, logement, revenus, emploi-chômage et établissements. </p>
            </div>
            <div class="grid own-grid">
              <div style="grid-area: 1 / 1 / 2 / 2;" class="box white flat" id="cell1">
                <div class="box flat content skeleton request" aria-txt="txt-cell1" aria-params="collection=COLLECTION&aggs='PIPELINE'"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top text-cell">
                    <h3 class="title"> Population </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered text-cell">
                    <p class="value" id="txt-cell1"></p>
                  </div>
                  <div class="advanced-kpi--bottom text-cell">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 1 / 2 / 2 / 4;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Evolution de la population </h3>
                    <p class="description"> France 2007 et 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                      <canvas id="chart1"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 2 / 1 / 3 / 4;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                    <canvas id="chart2"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 3 / 1 / 4 / 4;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                    <canvas id="chart3"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 3 / 1 / 4 / 4;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0" style="display: grid; grid-template-columns: repeat(4, 25%); grid-template-rows: 1fr; grid-column-gap: 0px; grid-row-gap: 0px;">
                    <div style="grid-area: 1 / 1 / 2 / 2;">
                      <canvas id="chart4-1"></canvas>
                    </div>
                    <div style="grid-area: 1 / 2 / 2 / 3;">
                      <canvas id="chart4-2"></canvas>
                    </div>
                    <div style="grid-area: 1 / 3 / 2 / 4;">
                      <canvas id="chart4-3"></canvas>
                    </div>
                    <div style="grid-area: 1 / 4 / 2 / 5;">
                      <canvas id="chart4-4"></canvas>
                    </div>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 4 / 1 / 5 / 3;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                    <canvas id="chart5"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 4 / 3 / 5 / 4;" class="box white flat" id="cell2">
                <div class="box flat content skeleton request" aria-txt="txt-cell2" aria-params="collection=COLLECTION&aggs='PIPELINE'"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top text-cell">
                    <h3 class="title"> Population </h3>
                    <p class="description"> en 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle centered text-cell">
                    <p class="value" id="txt-cell2"></p>
                  </div>
                  <div class="advanced-kpi--bottom text-cell">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 5 / 1 / 6 / 2;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0">
                    <canvas id="chart6"></canvas>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              <div style="grid-area: 5 / 2 / 6 / 4;" class="box white flat">
                <div class="box flat content skeleton"></div>
                <div class="advanced-kpi">
                  <div class="advanced-kpi--top">
                    <h3 class="title"> Naissance par métropole </h3>
                    <p class="description"> De 2007 à 2012 </p>
                  </div>
                  <div class="advanced-kpi--middle no-bg mb-0" style="display: grid; grid-template-columns: repeat(3, calc(1/3  * 100%)); grid-template-rows: 1fr; grid-column-gap: 0px; grid-row-gap: 0px;">
                    <div style="grid-area: 1 / 1 / 2 / 2;">
                      <canvas id="chart7-1"></canvas>
                    </div>
                    <div style="grid-area: 1 / 2 / 2 / 3;">
                      <canvas id="chart7-2"></canvas>
                    </div>
                    <div style="grid-area: 1 / 3 / 2 / 4;">
                      <canvas id="chart7-3"></canvas>
                    </div>
                  </div>
                  <div class="advanced-kpi--bottom">
                    <div class="advanced-kpi--bottom-second-stage">
                      <span class="date">Mar 22, 2017</span>
                      <a class="source modal-btn" aria-params="title=Présences&collection=COLLECTION&aggs='PIPELINE'">Source <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ods-dataset-context>
      </section>
    </div>
    <div id="open-modal" class="modal-window">
        <div class="modal-backdrop"></div>
        <div class="modal">
            <span class="modal-close">✖</span>
            <iframe id="modal-iframe"></iframe>
        </div>
    </div>
    <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
  </body>
</html>